(function(){(this||window).webpackJsonp.registerAbsMids({"esri/views/3d/webgl-engine/lib/edgeRendering/EdgeProcessingWorker":1315,"esri/views/3d/support/buffer/BufferView":1384,"esri/views/3d/support/buffer/InterleavedLayout":1386,"esri/views/3d/webgl-engine/lib/geometryDataUtils":1424,"esri/views/3d/webgl-engine/lib/localOrigin":1436,"esri/views/3d/support/buffer/glUtil":1442,"esri/views/3d/support/buffer/types":1454,"esri/views/3d/webgl-engine/lib/PreinterleavedGeometryData":1527,"esri/views/3d/webgl-engine/lib/edgeRendering/bufferLayouts":1560,"esri/views/3d/webgl-engine/lib/edgeRendering/edgeBufferWriters":1610,"esri/views/3d/support/meshProcessing":1635,"esri/views/3d/support/buffer/workerHelper":2270,"esri/views/3d/support/buffer/internals/Mat3":2271,"esri/views/3d/support/buffer/internals/Mat4":2272,"esri/views/3d/support/buffer/internals/Scalar":2273,"esri/views/3d/support/buffer/internals/Vec2":2274,"esri/views/3d/support/buffer/internals/Vec3":2275,"esri/views/3d/support/buffer/internals/Vec4":2276,"esri/views/3d/webgl-engine/lib/edgeRendering/edgePreprocessing":2277})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{1315:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(474),r(158),r(1635),r(1378),r(2270),r(1560),r(1610),r(2277)],void 0===(n=function(e,t,r,i,n,f,u,o,a,s){return function(){function e(){this.regularWriter=new a.RegularEdgeBufferWriter,this.silhouetteWriter=new a.SilhouetteEdgeBufferWriter}return e.prototype.process=function(e,t){return r(this,void 0,void 0,function(){var r,n,f;return i(this,function(i){switch(i.label){case 0:return t?(r=new Array,n=this.packInput(e,r),this.wrappedWork,[4,t.invoke("wrappedWork",n,{transferList:r})]):[3,2];case 1:return f=i.sent(),[2,this.unpackOutput(f)];case 2:return[2,this.work(e)]}})})},e.prototype.wrappedWork=function(e){return r(this,void 0,void 0,function(){var t,r,n;return i(this,function(i){return t=this.unpackInput(e),r=this.work(t),n=new Array,this.packInputTransferables(t,n),[2,{result:this.packOutput(r,n),transferList:n}]})})},e.prototype.work=function(e){var t=this.extractEdgeInformation(e.data,e.skipDeduplicate,e.originalIndices);return this.regularWriter.updateSettings(e.writerSettings),this.silhouetteWriter.updateSettings(e.writerSettings),s.extractEdges(t,this.regularWriter,this.silhouetteWriter)},e.prototype.packInputTransferables=function(e,t){t.push(e.data.buffer)},e.prototype.packInput=function(e,t){this.packInputTransferables(e,t);var r={dataBuffer:e.data.buffer,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate};return e.originalIndices&&(r.originalIndicesBuffer=e.originalIndices.buffer,r.originalIndicesType=f.isUint32Array(e.originalIndices)?"Uint32Array":"Uint16Array"),r},e.prototype.unpackInput=function(e){return{data:o.EdgeInputBufferLayout.createView(e.dataBuffer),originalIndices:"Uint32Array"===e.originalIndicesType?new Uint32Array(e.originalIndicesBuffer):"Uint16Array"===e.originalIndicesType?new Uint16Array(e.originalIndicesBuffer):void 0,writerSettings:e.writerSettings,skipDeduplicate:e.skipDeduplicate}},e.prototype.packOutput=function(e,t){return t.push(e.regular.lodInfo.lengths.buffer),t.push(e.silhouette.lodInfo.lengths.buffer),{regular:{instancesData:u.packInterleavedBuffer(e.regular.instancesData,t),lodInfo:{lengths:e.regular.lodInfo.lengths.buffer}},silhouette:{instancesData:u.packInterleavedBuffer(e.silhouette.instancesData,t),lodInfo:{lengths:e.silhouette.lodInfo.lengths.buffer}},averageEdgeLength:e.averageEdgeLength}},e.prototype.unpackOutput=function(e){return{regular:{instancesData:u.unpackInterleavedBuffer(e.regular.instancesData),lodInfo:{lengths:new Float32Array(e.regular.lodInfo.lengths)}},silhouette:{instancesData:u.unpackInterleavedBuffer(e.silhouette.instancesData),lodInfo:{lengths:new Float32Array(e.silhouette.lodInfo.lengths)}},averageEdgeLength:e.averageEdgeLength}},e.prototype.extractEdgeInformation=function(e,t,r){if(t&&r)return{faces:r,neighbors:n.computeNeighbors(r,e.count),vertices:e};var i=n.deduplicate(e.buffer,e.stride/4),f=this.selectIndexData(i.indices,r);return{faces:f,neighbors:n.computeNeighbors(f,i.uniqueCount),vertices:o.EdgeInputBufferLayout.createView(i.buffer)}},e.prototype.selectIndexData=function(e,t){if(t){for(var r=f.slice(t),i=0;i<r.length;i++)r[i]=e[r[i]];return r}return e},e}()}.apply(null,i))||(e.exports=n)},1384:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(25),r(2271),r(2272),r(2273),r(2274),r(2275),r(2276)],void 0===(n=function(e,t,r,i,n,f,u,o,a){Object.defineProperty(t,"__esModule",{value:!0});var s=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(f.BufferViewScalarImpl);t.BufferViewFloat=s;var c=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(u.BufferViewVec2Impl);t.BufferViewVec2f=c;var p=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(o.BufferViewVec3Impl);t.BufferViewVec3f=p;var l=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(a.BufferViewVec4Impl);t.BufferViewVec4f=l;var d=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(i.BufferViewMat3Impl);t.BufferViewMat3f=d;var y=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(i.BufferViewMat3Impl);t.BufferViewMat3f64=y;var h=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float32Array,t,r,i,n)||this;return f.elementType="f32",f}return r(t,e),t.ElementType="f32",t}(n.BufferViewMat4Impl);t.BufferViewMat4f=h;var v=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(n.BufferViewMat4Impl);t.BufferViewMat4f64=v;var B=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(f.BufferViewScalarImpl);t.BufferViewFloat64=B;var w=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(u.BufferViewVec2Impl);t.BufferViewVec2f64=w;var m=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(o.BufferViewVec3Impl);t.BufferViewVec3f64=m;var g=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Float64Array,t,r,i,n)||this;return f.elementType="f64",f}return r(t,e),t.ElementType="f64",t}(a.BufferViewVec4Impl);t.BufferViewVec4f64=g;var V=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,i,n)||this;return f.elementType="u8",f}return r(t,e),t.ElementType="u8",t}(f.BufferViewScalarImpl);t.BufferViewUint8=V;var E=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,i,n)||this;return f.elementType="u8",f}return r(t,e),t.ElementType="u8",t}(u.BufferViewVec2Impl);t.BufferViewVec2u8=E;var T=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,i,n)||this;return f.elementType="u8",f}return r(t,e),t.ElementType="u8",t}(o.BufferViewVec3Impl);t.BufferViewVec3u8=T;var b=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint8Array,t,r,i,n)||this;return f.elementType="u8",f}return r(t,e),t.ElementType="u8",t}(a.BufferViewVec4Impl);t.BufferViewVec4u8=b;var I=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,i,n)||this;return f.elementType="u16",f}return r(t,e),t.ElementType="u16",t}(f.BufferViewScalarImpl);t.BufferViewUint16=I;var S=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,i,n)||this;return f.elementType="u16",f}return r(t,e),t.ElementType="u16",t}(u.BufferViewVec2Impl);t.BufferViewVec2u16=S;var A=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,i,n)||this;return f.elementType="u16",f}return r(t,e),t.ElementType="u16",t}(o.BufferViewVec3Impl);t.BufferViewVec3u16=A;var _=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint16Array,t,r,i,n)||this;return f.elementType="u16",f}return r(t,e),t.ElementType="u16",t}(a.BufferViewVec4Impl);t.BufferViewVec4u16=_;var M=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,i,n)||this;return f.elementType="u32",f}return r(t,e),t.ElementType="u32",t}(f.BufferViewScalarImpl);t.BufferViewUint32=M;var L=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,i,n)||this;return f.elementType="u32",f}return r(t,e),t.ElementType="u32",t}(u.BufferViewVec2Impl);t.BufferViewVec2u32=L;var x=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,i,n)||this;return f.elementType="u32",f}return r(t,e),t.ElementType="u32",t}(o.BufferViewVec3Impl);t.BufferViewVec3u32=x;var P=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Uint32Array,t,r,i,n)||this;return f.elementType="u32",f}return r(t,e),t.ElementType="u32",t}(a.BufferViewVec4Impl);t.BufferViewVec4u32=P;var F=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,i,n)||this;return f.elementType="i8",f}return r(t,e),t.ElementType="i8",t}(f.BufferViewScalarImpl);t.BufferViewInt8=F;var N=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,i,n)||this;return f.elementType="i8",f}return r(t,e),t.ElementType="i8",t}(u.BufferViewVec2Impl);t.BufferViewVec2i8=N;var U=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,i,n)||this;return f.elementType="i8",f}return r(t,e),t.ElementType="i8",t}(o.BufferViewVec3Impl);t.BufferViewVec3i8=U;var j=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int8Array,t,r,i,n)||this;return f.elementType="i8",f}return r(t,e),t.ElementType="i8",t}(a.BufferViewVec4Impl);t.BufferViewVec4i8=j;var C=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,i,n)||this;return f.elementType="i16",f}return r(t,e),t.ElementType="i16",t}(f.BufferViewScalarImpl);t.BufferViewInt16=C;var D=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,i,n)||this;return f.elementType="i16",f}return r(t,e),t.ElementType="i16",t}(u.BufferViewVec2Impl);t.BufferViewVec2i16=D;var O=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,i,n)||this;return f.elementType="i16",f}return r(t,e),t.ElementType="i16",t}(o.BufferViewVec3Impl);t.BufferViewVec3i16=O;var k=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int16Array,t,r,i,n)||this;return f.elementType="i16",f}return r(t,e),t.ElementType="i16",t}(a.BufferViewVec4Impl);t.BufferViewVec4i16=k;var R=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,i,n)||this;return f.elementType="i32",f}return r(t,e),t.ElementType="i32",t}(f.BufferViewScalarImpl);t.BufferViewInt32=R;var W=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,i,n)||this;return f.elementType="i32",f}return r(t,e),t.ElementType="i32",t}(u.BufferViewVec2Impl);t.BufferViewVec2i32=W;var Y=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,i,n)||this;return f.elementType="i32",f}return r(t,e),t.ElementType="i32",t}(o.BufferViewVec3Impl);t.BufferViewVec3i32=Y;var z=function(e){function t(t,r,i,n){void 0===r&&(r=0);var f=e.call(this,Int32Array,t,r,i,n)||this;return f.elementType="i32",f}return r(t,e),t.ElementType="i32",t}(a.BufferViewVec4Impl);t.BufferViewVec4i32=z}.apply(null,i))||(e.exports=n)},1386:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1384),r(1454)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){this.layout=e,this.buffer="number"==typeof t?new ArrayBuffer(t*e.stride):t;for(var r=0,i=e.fieldNames;r<i.length;r++){var n=i[r],f=e.fields.get(n);this[n]=new f.constructor(this.buffer,f.offset,this.stride)}}return Object.defineProperty(e.prototype,"stride",{get:function(){return this.layout.stride},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this.buffer.byteLength/this.stride},enumerable:!0,configurable:!0}),e.prototype.getField=function(e,t){var r=this[e];return r&&r.elementCount===t.ElementCount&&r.elementType===t.ElementType?r:null},e.prototype.slice=function(t,r){return new e(this.layout,this.buffer.slice(t*this.stride,r*this.stride))},e}(),f=function(){function e(){this.stride=0,this.fields=new Map,this.fieldNames=[]}return e.prototype.vec2f=function(e,t){return this.appendField(e,r.BufferViewVec2f,t),this},e.prototype.vec2f64=function(e,t){return this.appendField(e,r.BufferViewVec2f64,t),this},e.prototype.vec3f=function(e,t){return this.appendField(e,r.BufferViewVec3f,t),this},e.prototype.vec3f64=function(e,t){return this.appendField(e,r.BufferViewVec3f64,t),this},e.prototype.vec4f=function(e,t){return this.appendField(e,r.BufferViewVec4f,t),this},e.prototype.vec4f64=function(e,t){return this.appendField(e,r.BufferViewVec4f64,t),this},e.prototype.mat3f=function(e,t){return this.appendField(e,r.BufferViewMat3f,t),this},e.prototype.mat3f64=function(e,t){return this.appendField(e,r.BufferViewMat3f64,t),this},e.prototype.mat4f=function(e,t){return this.appendField(e,r.BufferViewMat4f,t),this},e.prototype.mat4f64=function(e,t){return this.appendField(e,r.BufferViewMat4f64,t),this},e.prototype.vec4u8=function(e,t){return this.appendField(e,r.BufferViewVec4u8,t),this},e.prototype.f32=function(e,t){return this.appendField(e,r.BufferViewFloat,t),this},e.prototype.f64=function(e,t){return this.appendField(e,r.BufferViewFloat64,t),this},e.prototype.u8=function(e,t){return this.appendField(e,r.BufferViewUint8,t),this},e.prototype.u16=function(e,t){return this.appendField(e,r.BufferViewUint16,t),this},e.prototype.i8=function(e,t){return this.appendField(e,r.BufferViewInt8,t),this},e.prototype.vec2i8=function(e,t){return this.appendField(e,r.BufferViewVec2i8,t),this},e.prototype.vec2i16=function(e,t){return this.appendField(e,r.BufferViewVec2i16,t),this},e.prototype.vec2u8=function(e,t){return this.appendField(e,r.BufferViewVec2u8,t),this},e.prototype.vec4u16=function(e,t){return this.appendField(e,r.BufferViewVec4u16,t),this},e.prototype.u32=function(e,t){return this.appendField(e,r.BufferViewUint32,t),this},e.prototype.appendField=function(e,t,r){var n=t.ElementCount*i.elementTypeSize(t.ElementType),f=this.stride;this.fields.set(e,{size:n,constructor:t,offset:f,optional:r}),this.stride+=n,this.fieldNames.push(e)},e.prototype.alignTo=function(e){return this.stride=Math.floor((this.stride+e-1)/e)*e,this},e.prototype.hasField=function(e){return this.fieldNames.indexOf(e)>=0},e.prototype.createBuffer=function(e){return new n(this,e)},e.prototype.createView=function(e){return new n(this,e)},e.prototype.clone=function(){var t=new e;return t.stride=this.stride,t.fields=new Map,this.fields.forEach(function(e,r){return t.fields.set(r,e)}),t.fieldNames=this.fieldNames.slice(),t.BufferType=this.BufferType,t},e}();t.InterleavedLayout=f,t.newLayout=function(){return new f}}.apply(null,i))||(e.exports=n)},1424:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=1,i=null;t.generateDefaultIndexArray=function(e){if(e>r||null==i){for(;e>r;)r*=2;i=new Uint32Array(r);for(var t=0;t<r;t++)i[t]=t}return new Uint32Array(i.buffer,0,e)};var n=0;t.getNewId=function(){return n++}}.apply(null,i))||(e.exports=n)},1436:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(34)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.fromVector=function(e,t){return{vec3:r.vec3f64.clone(e),id:t}},t.fromValues=function(e,t,i,n){return{vec3:r.vec3f64.fromValues(e,t,i),id:n}}}.apply(null,i))||(e.exports=n)},1442:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10)],void 0===(n=function(e,t,r){function i(e){var t=f[e];if(t)return t;throw new Error("BufferType not supported in WebGL")}Object.defineProperty(t,"__esModule",{value:!0});var n={divisor:0,prefixA:!1};t.glLayout=function(e,t){void 0===t&&(t={}),t=r({},n,t);var f=e.stride;return e.fieldNames.filter(function(t){var r=e.fields.get(t).optional;return!(r&&r.glPadding)}).map(function(r){var n=e.fields.get(r),u=n.constructor.ElementCount,o=i(n.constructor.ElementType),a=n.offset,s=!(!n.optional||!n.optional.glNormalized);return{name:t.prefixA?function(e){return"a"+e[0].toUpperCase()+e.substr(1)}(r):r,stride:f,count:u,type:o,offset:a,normalized:s,divisor:t.divisor}})};var f={u8:5121,u16:5123,u32:5125,i8:5120,i16:5122,i32:5124,f32:5126}}.apply(null,i))||(e.exports=n)},1454:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(50)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0}),t.elementTypeSize=function(e){switch(e){case"u8":return 1;case"u16":return 2;case"u32":return 4;case"i8":return 1;case"i16":return 2;case"i32":case"f32":return 4;case"f64":return 8;default:r.neverReached(e)}},t.isSigned=function(e){switch(e){case"u8":case"u16":case"u32":return!1;case"i8":case"i16":case"i32":case"f32":case"f64":return!0;default:r.neverReached(e)}},t.isInteger=function(e){switch(e){case"u8":case"u16":case"u32":case"i8":case"i16":case"i32":return!0;case"f32":case"f64":return!1;default:r.neverReached(e)}},t.maximumValue=function(e){switch(e){case"u8":return 255;case"u16":return 65535;case"u32":return 4294967295;case"i8":return 127;case"i16":return 32767;case"i32":return 2147483647;case"f32":return 3.402823e38;case"f64":return 1.79769e308;default:r.neverReached(e)}}}.apply(null,i))||(e.exports=n)},1527:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1369),r(1424),r(1365)],void 0===(n=function(e,t,r,i,n){function f(e){switch(e){case 5120:return Int8Array;case 5126:return Float32Array;case 5124:return Int32Array;case 5122:return Int16Array;case 5121:return Uint8Array;case 5125:return Uint32Array;case 5123:return Uint16Array}throw new Error("Unhandled data type: "+e)}return function(){function e(t,u,o,a,s,c){void 0===o&&(o=null),void 0===a&&(a=e.DefaultOffsets),void 0===s&&(s=e.DefaultIndices),void 0===c&&(c=!1),this._freeDataAfterUse=c,this.preinterleaved=!0,this.primitiveType="triangle",this._positionData=null;var p=n.getStride(u)/4,l=t.length/p;this._hasDefaultIndices=s===e.DefaultIndices,this._hasDefaultIndices&&(s=i.generateDefaultIndexArray(l));for(var d={},y=0,h=u;y<h.length;y++){var v=h[y],B=new(f(v.type))(t.buffer),w=n.getBytesPerElement(v.type),m=v.count,g=v.offset/w,V=v.stride/w;d[v.name]={data:B,size:m,offsetIdx:g,strideIdx:V}}o&&(this._positionData=o,d.position={data:o.data,size:3,offsetIdx:0,strideIdx:3}),this._id=i.getNewId(),this._vertexData=t,this._vertexAttributes=d,this._layout=u,this._indexData=s,this._componentOffsets=r.createOffsets(a),this._gpuMemoryUsage=t.byteLength+(this._hasDefaultIndices?0:s.byteLength),this._indexCount=s.length}return Object.defineProperty(e.prototype,"id",{get:function(){return this._id},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"layout",{get:function(){return this._layout},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"componentOffsets",{get:function(){return this._componentOffsets},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"indexCount",{get:function(){return this._indexCount},enumerable:!0,configurable:!0}),e.prototype.toRenderData=function(){var e={id:this._id.toString(),preinterleaved:!0,indexData:this._hasDefaultIndices?null:this._indexData,indexCount:this._indexCount,vertexData:this._vertexData,layout:this._layout};return this._freeDataAfterUse&&(this._vertexData=null,this._indexData=null,this._vertexAttributes={position:this._vertexAttributes.position}),e},e.prototype.getIndices=function(e){return"position"===e&&this._positionData?this._positionData.indices:this._indexData},e.prototype.getAttribute=function(e){return this._vertexAttributes[e]},e.prototype.estimateGpuMemoryUsage=function(){return this._gpuMemoryUsage},Object.defineProperty(e.prototype,"hasPositionData",{get:function(){return!!this._positionData},enumerable:!0,configurable:!0}),e.DefaultOffsets=new Uint32Array(0),e.DefaultIndices=new Uint32Array(0),e}()}.apply(null,i))||(e.exports=n)},1560:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(1442),r(1386)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.EdgeInputBufferLayout=i.newLayout().vec3f("position").u16("componentIndex").u16("_padding"),t.VertexLayout=i.newLayout().vec2u8("sideness"),t.glVertexLayout=r.glLayout(t.VertexLayout,{prefixA:!0}),t.CommonInstancesLayout=i.newLayout().vec3f("position0").vec3f("position1").u16("componentIndex").vec2u8("packedAttributes").u8("variantOffset",{glNormalized:!0}).u8("variantStroke").u8("variantExtension",{glNormalized:!0}).u8("_padding",{glPadding:!0}),t.RegularEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normal"),t.SilhouetteEdgeInstancesLayout=t.CommonInstancesLayout.clone().vec3f("normalA").vec3f("normalB"),t.EdgeShaderAttributeLocations={aPosition0:0,aPosition1:1,aComponentIndex:2,aPackedAttributes:3,aVariantOffset:4,aVariantStroke:5,aVariantExtension:6,aNormal:7,aNormalA:7,aNormalB:8,aSideness:9}}.apply(null,i))||(e.exports=n)},1610:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(25),r(526),r(34),r(1442),r(1560)],void 0===(n=function(e,t,r,i,n,f,u,o){function a(e){var t=c;t[0]=e.position0[0],t[1]=e.position0[1],t[2]=e.position0[2],t[3]=e.position1[0],t[4]=e.position1[1],t[5]=e.position1[2],l[0]=5381;for(var r=0;r<p.length;r++)l[0]=31*l[0]+p[r];return l[0]}Object.defineProperty(t,"__esModule",{value:!0});var s=function(){function e(){}return e.prototype.updateSettings=function(e){this.settings=e},e.prototype.write=function(e,t,r){var i=a(r);d.seed=i;var n=d.getIntRange(0,255),f=d.getIntRange(0,this.settings.variants-1),u=d.getFloat(),o=255*(.5*function(e,t){var r=e<0?-1:1;return Math.pow(Math.abs(e),t)*r}(-(1-Math.min(u/.7,1))+Math.max(0,u-.7)/(1-.7),1.2)+.5);e.position0.setVec(t,r.position0),e.position1.setVec(t,r.position1),e.componentIndex.set(t,r.componentIndex),e.variantOffset.set(t,n),e.variantStroke.set(t,f),e.variantExtension.set(t,o)},e.prototype.trim=function(e,t){return e.slice(0,t)},e}();t.CommonBufferWriter=s;var c=new Float32Array(6),p=new Uint32Array(c.buffer),l=new Uint32Array(1),d=new n,y=function(){function e(){this.commonWriter=new s}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return o.RegularEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),f.vec3.add(v,r.faceNormal0,r.faceNormal1),f.vec3.normalize(v,v),e.normal.setVec(t,v)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=o.RegularEdgeInstancesLayout,e.glLayout=u.glLayout(o.RegularEdgeInstancesLayout,{prefixA:!0,divisor:1}),e}();t.RegularEdgeBufferWriter=y;var h=function(){function e(){this.commonWriter=new s}return e.prototype.updateSettings=function(e){this.commonWriter.updateSettings(e)},e.prototype.allocate=function(e){return o.SilhouetteEdgeInstancesLayout.createBuffer(e)},e.prototype.write=function(e,t,r){this.commonWriter.write(e,t,r),e.normalA.setVec(t,r.faceNormal0),e.normalB.setVec(t,r.faceNormal1)},e.prototype.trim=function(e,t){return this.commonWriter.trim(e,t)},e.Layout=o.SilhouetteEdgeInstancesLayout,e.glLayout=u.glLayout(o.SilhouetteEdgeInstancesLayout,{prefixA:!0,divisor:1}),e}();t.SilhouetteEdgeBufferWriter=h;var v=f.vec3f64.create()}.apply(null,i))||(e.exports=n)},1635:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(79)],void 0===(n=function(e,t,r){function i(e,t,r,i){for(var n=0;n<i;n++)if(e[t+n]!==e[r+n])return!1;return!0}function n(e,t,r,i,n){for(var f=0;f<n;f++)r[i+f]=e[t+f]}function f(e,t,r){for(var i=0,n=0;n<r;n++)i=(i=e[t+n]+i|0)+(i<<11)+(i>>>2)|0;return i>>>0}Object.defineProperty(t,"__esModule",{value:!0}),t.computeNeighbors=function(e,t){for(var r=e.length/3,i=new Uint32Array(t+1),n=new Uint32Array(t+1),f=function(e,t){e<t?i[e+1]++:n[t+1]++},u=0;u<r;u++){var o=e[3*u],a=e[3*u+1],s=e[3*u+2];f(o,a),f(a,s),f(s,o)}var c=0,p=0;for(u=0;u<t;u++){var l=i[u+1],d=n[u+1];i[u+1]=c,n[u+1]=p,c+=l,p+=d}var y=new Uint32Array(6*r),h=i[t],v=function(e,t,r){if(e<t){var f=i[e+1]++;y[2*f]=t,y[2*f+1]=r}else f=n[t+1]++,y[2*h+2*f]=e,y[2*h+2*f+1]=r};for(u=0;u<r;u++)o=e[3*u],a=e[3*u+1],s=e[3*u+2],v(o,a,u),v(a,s,u),v(s,o,u);var B=function(e,t){for(var r=2*e,i=t-e,n=1;n<i;n++){for(var f=y[r+2*n],u=y[r+2*n+1],o=n-1;o>=0&&y[r+2*o]>f;o--)y[r+2*o+2]=y[r+2*o],y[r+2*o+3]=y[r+2*o+1];y[r+2*o+2]=f,y[r+2*o+3]=u}};for(u=0;u<t;u++)B(i[u],i[u+1]),B(h+n[u],h+n[u+1]);var w=new Int32Array(3*r),m=function(t,r){return t===e[3*r]?0:t===e[3*r+1]?1:t===e[3*r+2]?2:-1},g=function(e,t){var r=m(e,t);w[3*t+r]=-1};for(u=0;u<t;u++){for(var V=i[u],E=i[u+1],T=n[u],b=n[u+1];V<E&&T<b;){var I=y[2*V];I===(S=y[2*h+2*T])?(function(e,t,r,i){var n=m(e,t);w[3*t+n]=i;var f=m(r,i);w[3*i+f]=t}(u,y[2*V+1],S,y[2*h+2*T+1]),V++,T++):I<S?(g(u,y[2*V+1]),V++):(g(S,y[2*h+2*T+1]),T++)}for(;V<E;)g(u,y[2*V+1]),V++;for(;T<b;){var S;g(S=y[2*h+2*T],y[2*h+2*T+1]),T++}}return w};var u=null;t.deduplicate=function(e,t,o,a,s){void 0===o&&(o=0),void 0===a&&(a=0),void 0===s&&(s=e.byteLength/(4*t));var c=new Uint32Array(e,a,s*t),p=new Uint32Array(s),l=Math.floor(1.1*s)+1;(null==u||u.length<2*l)&&(u=new Uint32Array(r.nextHighestPowerOfTwo(2*l)));for(var d=0;d<2*l;d++)u[d]=0;var y=0,h=1.96,v=0!==o?Math.ceil(4*h*h/(o*o)*o*(1-o)):s;for(d=0;d<s;d++){if(d===v){var B=1-y/d;if(B+h*Math.sqrt(B*(1-B)/d)<o)return null;v*=2}for(var w=d*t,m=f(c,w,t),g=m%l,V=y;0!==u[2*g+1];){if(u[2*g]===m){var E=u[2*g+1]-1;if(i(c,w,E*t,t)){V=p[E];break}}++g>=l&&(g-=l)}V===y&&(u[2*g]=m,u[2*g+1]=d+1,y++),p[d]=V}if(0!==o&&1-y/s<o)return null;var T=new Uint32Array(t*y);for(y=0,d=0;d<s;d++)p[d]===y&&(n(c,d*t,T,y*t,t),y++);return{buffer:T.buffer,indices:p,uniqueCount:y}}}.apply(null,i))||(e.exports=n)},2270:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(1384),r(1386)],void 0===(n=function(e,t,r,i,n){function f(e){var t=new Array;return e.fields.forEach(function(e,i){var n=r({},e,{constructor:o(e.constructor)});t.push([i,n])}),{stride:e.stride,fields:t,fieldNames:e.fieldNames}}function u(e){var t=n.newLayout();return t.stride=e.stride,t.fieldNames=e.fieldNames,e.fields.forEach(function(e){return t.fields.set(e[0],r({},e[1],{constructor:function(e){return s.get(e)}(e[1].constructor)}))}),t}function o(e){return e.ElementType+"_"+e.ElementCount}Object.defineProperty(t,"__esModule",{value:!0}),t.packInterleavedBuffer=function(e,t){return t.push(e.buffer),{buffer:e.buffer,layout:f(e.layout)}},t.unpackInterleavedBuffer=function(e){return u(e.layout).createView(e.buffer)},t.packLayout=f,t.unpackLayout=u;var a=[i.BufferViewFloat,i.BufferViewVec2f,i.BufferViewVec3f,i.BufferViewVec4f,i.BufferViewMat3f,i.BufferViewMat4f,i.BufferViewFloat64,i.BufferViewVec2f64,i.BufferViewVec3f64,i.BufferViewVec4f64,i.BufferViewMat3f64,i.BufferViewMat4f64,i.BufferViewUint8,i.BufferViewVec2u8,i.BufferViewVec3u8,i.BufferViewVec4u8,i.BufferViewUint16,i.BufferViewVec2u16,i.BufferViewVec3u16,i.BufferViewVec4u16,i.BufferViewUint32,i.BufferViewVec2u32,i.BufferViewVec3u32,i.BufferViewVec4u32,i.BufferViewInt8,i.BufferViewVec2i8,i.BufferViewVec3i8,i.BufferViewVec4i8,i.BufferViewInt16,i.BufferViewVec2i16,i.BufferViewVec3i16,i.BufferViewVec4i16,i.BufferViewInt32,i.BufferViewVec2i32,i.BufferViewVec3i32,i.BufferViewVec4i32],s=new Map;a.forEach(function(e){return s.set(o(e),e)})}.apply(null,i))||(e.exports=n)},2271:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=9;var f=this.TypedArrayConstructor;void 0===i&&(i=9*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,i=0;i<9;i++)t[i]=this.typedBuffer[r+i];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,i=0;i<9;i++)this.typedBuffer[r+i]=t[i]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var i=this.typedBuffer,n=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<9;++o)i[f+o]=n[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=9,e}();t.BufferViewMat3Impl=r}.apply(null,i))||(e.exports=n)},2272:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=16;var f=this.TypedArrayConstructor;void 0===i&&(i=16*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getMat=function(e,t){for(var r=e*this.typedBufferStride,i=0;i<16;i++)t[i]=this.typedBuffer[r+i];return t},e.prototype.setMat=function(e,t){for(var r=e*this.typedBufferStride,i=0;i<16;i++)this.typedBuffer[r+i]=t[i]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){for(var i=this.typedBuffer,n=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride,o=0;o<16;++o)i[f+o]=n[u+o]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=16,e}();t.BufferViewMat4Impl=r}.apply(null,i))||(e.exports=n)},2273:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=1;var f=this.TypedArrayConstructor;void 0===i&&(i=f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.get=function(e){return this.typedBuffer[e*this.typedBufferStride]},e.prototype.set=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=1,e}();t.BufferViewScalarImpl=r}.apply(null,i))||(e.exports=n)},2274:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(34)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=2;var f=this.TypedArrayConstructor;void 0===i&&(i=2*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec2.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var i=this.typedBuffer,n=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;i[f]=n[u],i[f+1]=n[u+1]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=2,e}();t.BufferViewVec2Impl=i}.apply(null,i))||(e.exports=n)},2275:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(34)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=3;var f=this.TypedArrayConstructor;void 0===i&&(i=3*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec3.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var i=this.typedBuffer,n=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=3,e}();t.BufferViewVec3Impl=i}.apply(null,i))||(e.exports=n)},2276:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(34)],void 0===(n=function(e,t,r){Object.defineProperty(t,"__esModule",{value:!0});var i=function(){function e(e,t,r,i,n){void 0===r&&(r=0),this.TypedArrayConstructor=e,this.elementCount=4;var f=this.TypedArrayConstructor;void 0===i&&(i=4*f.BYTES_PER_ELEMENT);var u=0===t.byteLength?0:r;this.typedBuffer=null==n?new f(t,u):new f(t,u,(n-r)/f.BYTES_PER_ELEMENT),this.typedBufferStride=i/f.BYTES_PER_ELEMENT,this.count=Math.ceil(this.typedBuffer.length/this.typedBufferStride),this.stride=this.typedBufferStride*this.TypedArrayConstructor.BYTES_PER_ELEMENT}return e.prototype.getVec=function(e,t){return r.vec4.set(t,this.typedBuffer[e*this.typedBufferStride],this.typedBuffer[e*this.typedBufferStride+1],this.typedBuffer[e*this.typedBufferStride+2],this.typedBuffer[e*this.typedBufferStride+3])},e.prototype.setVec=function(e,t){this.typedBuffer[e*this.typedBufferStride]=t[0],this.typedBuffer[e*this.typedBufferStride+1]=t[1],this.typedBuffer[e*this.typedBufferStride+2]=t[2],this.typedBuffer[e*this.typedBufferStride+3]=t[3]},e.prototype.get=function(e,t){return this.typedBuffer[e*this.typedBufferStride+t]},e.prototype.set=function(e,t,r){this.typedBuffer[e*this.typedBufferStride+t]=r},e.prototype.copyFrom=function(e,t,r){var i=this.typedBuffer,n=t.typedBuffer,f=e*this.typedBufferStride,u=r*t.typedBufferStride;i[f]=n[u],i[f+1]=n[u+1],i[f+2]=n[u+2],i[f+3]=n[u+3]},Object.defineProperty(e.prototype,"buffer",{get:function(){return this.typedBuffer.buffer},enumerable:!0,configurable:!0}),e.ElementCount=4,e}();t.BufferViewVec4Impl=i}.apply(null,i))||(e.exports=n)},2277:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(69),r(34),r(79),r(1378)],void 0===(n=function(e,t,r,i,n,f){function u(e,t){return e.cosAngle<t}function o(e,t){return e.cosAngle>t}function a(e,t){var r=n.acos(e.cosAngle),f=p.fwd,u=p.ortho;return n.directionFromTo(f,e.position1,e.position0),r*(i.vec3.dot(i.vec3.cross(u,e.faceNormal0,e.faceNormal1),f)>0?-1:1)>t}function s(e){for(var t=e.faces.length/3,r=e.vertices.position,n=e.faces,f=l.v0,u=l.v1,o=l.v2,a=new Float32Array(3*t),s=0;s<t;s++){var c=n[3*s+0],p=n[3*s+1],d=n[3*s+2];r.getVec(c,f),r.getVec(p,u),r.getVec(d,o),i.vec3.subtract(u,u,f),i.vec3.subtract(o,o,f),i.vec3.cross(f,u,o),i.vec3.normalize(f,f),a[3*s+0]=f[0],a[3*s+1]=f[1],a[3*s+2]=f[2]}return a}Object.defineProperty(t,"__esModule",{value:!0});var c=-1;t.extractEdges=function(e,t,l,y){void 0===y&&(y=d);var h=e.vertices.position,v=e.vertices.componentIndex,B=n.deg2rad(y.anglePlanar),w=n.deg2rad(y.angleSignificantEdge),m=Math.cos(w),g=Math.cos(B),V=p.edge,E=V.position0,T=V.position1,b=V.faceNormal0,I=V.faceNormal1,S=s(e),A=function(e){for(var t=e.faces.length/3,r=e.faces,i=e.neighbors,n=0,f=0;f<t;f++){var u=i[3*f+0],o=i[3*f+1],a=i[3*f+2],s=r[3*f+0],p=r[3*f+1],l=r[3*f+2];n+=u===c||s<p?1:0,n+=o===c||p<l?1:0,n+=a===c||l<s?1:0}for(var d=new Int32Array(4*n),y=0,f=0;f<t;f++){var u=i[3*f+0],o=i[3*f+1],a=i[3*f+2],s=r[3*f+0],p=r[3*f+1],l=r[3*f+2];(u===c||s<p)&&(d[y++]=s,d[y++]=p,d[y++]=f,d[y++]=u),(o===c||p<l)&&(d[y++]=p,d[y++]=l,d[y++]=f,d[y++]=o),(a===c||l<s)&&(d[y++]=l,d[y++]=s,d[y++]=f,d[y++]=a)}return d}(e),_=A.length/4,M=t.allocate(_),L=0,x=_,P=l.allocate(x),F=0,N=0,U=0,j=r.range(0,_),C=new Float32Array(_);f.forEach(C,function(e,t,r){h.getVec(A[4*t+0],E),h.getVec(A[4*t+1],T),r[t]=i.vec3.distance(E,T)}),j.sort(function(e,t){return C[t]-C[e]});for(var D=new Array,O=new Array,k=0;k<_;k++){var R=j[k],W=C[R],Y=A[4*R+0],z=A[4*R+1],q=A[4*R+2],G=A[4*R+3],J=G===c;if(h.getVec(Y,E),h.getVec(z,T),J)i.vec3.set(b,S[3*q+0],S[3*q+1],S[3*q+2]),i.vec3.copy(I,b),V.componentIndex=v.get(Y),V.cosAngle=i.vec3.dot(b,I);else if(i.vec3.set(b,S[3*q+0],S[3*q+1],S[3*q+2]),i.vec3.set(I,S[3*G+0],S[3*G+1],S[3*G+2]),V.componentIndex=v.get(Y),V.cosAngle=i.vec3.dot(b,I),o(V,g))continue;N+=W,U++,J||u(V,m)?(t.write(M,L++,V),D.push(W)):a(V,B)&&(l.write(P,F++,V),O.push(W))}var H=new Float32Array(D.reverse()),K=new Float32Array(O.reverse());return{regular:{instancesData:t.trim(M,L),lodInfo:{lengths:H}},silhouette:{instancesData:l.trim(P,F),lodInfo:{lengths:K}},averageEdgeLength:N/U}};var p={edge:{position0:i.vec3f64.create(),position1:i.vec3f64.create(),faceNormal0:i.vec3f64.create(),faceNormal1:i.vec3f64.create(),componentIndex:0,cosAngle:0},ortho:i.vec3f64.create(),fwd:i.vec3f64.create()},l={v0:i.vec3f64.create(),v1:i.vec3f64.create(),v2:i.vec3f64.create()},d={anglePlanar:4,angleSignificantEdge:35}}.apply(null,i))||(e.exports=n)}}]);