(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/GroupLayer":1312,"esri/core/asyncUtils":1404,"esri/core/loadAll":1650,"esri/support/LayersMixin":1712})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{1312:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(2),i(1),i(1404),i(1650),i(127),i(8),i(0),i(43),i(119),i(239),i(238),i(1712)],void 0===(n=function(e,t,r,n,o,s,a,l,u,p,y,c,d,f){return function(e){function t(t){var i=e.call(this)||this;return i._visibilityHandles={},i.fullExtent=void 0,i.operationalLayerType="GroupLayer",i.spatialReference=void 0,i.type="group",i._visibilityWatcher=i._visibilityWatcher.bind(i),i}return r(t,e),t.prototype.initialize=function(){this._enforceVisibility(this.visibilityMode,this.visible),this.watch("visible",this._visibleWatcher.bind(this),!0)},t.prototype._writeLayers=function(e,t,i,r){var n=[];if(!e)return n;e.forEach(function(e){if(e.write){var t=e.write(null,r);t&&t.layerType&&n.push(t)}}),t.layers=n},Object.defineProperty(t.prototype,"visibilityMode",{set:function(e){var t=this._get("visibilityMode")!==e;this._set("visibilityMode",e),t&&this._enforceVisibility(e,this.visible)},enumerable:!0,configurable:!0}),t.prototype.load=function(){return this.addResolvingPromise(this.loadFromPortal({supportedTypes:["Feature Service","Feature Collection","Scene Service"]})),this.when()},t.prototype.loadAll=function(){var e=this;return o.safeCast(s.loadAll(this,function(t){t(e.layers)}))},t.prototype.layerAdded=function(e){e.visible&&"exclusive"===this.visibilityMode?this._turnOffOtherLayers(e):"inherited"===this.visibilityMode&&(e.visible=this.visible),this._visibilityHandles[e.uid]=e.watch("visible",this._visibilityWatcher,!0)},t.prototype.layerRemoved=function(e){var t=this._visibilityHandles[e.uid];t&&(t.remove(),delete this._visibilityHandles[e.uid]),this._enforceVisibility(this.visibilityMode,this.visible)},t.prototype.importLayerViewModule=function(e){switch(e.type){case"2d":case"3d":return l.create(function(e){i.e(79).then(function(){var t=[i(1939)];e.apply(null,t)}.bind(this)).catch(i.oe)})}},t.prototype._turnOffOtherLayers=function(e){this.layers.forEach(function(t){t!==e&&(t.visible=!1)})},t.prototype._enforceVisibility=function(e,t){if(p.getProperties(this).initialized){var i=this.layers,r=i.find(function(e){return e.visible});switch(e){case"exclusive":i.length&&!r&&((r=i.getItemAt(0)).visible=!0),this._turnOffOtherLayers(r);break;case"inherited":i.forEach(function(e){e.visible=t})}}},t.prototype._visibleWatcher=function(e){"inherited"===this.visibilityMode&&this.layers.forEach(function(t){t.visible=e})},t.prototype._visibilityWatcher=function(e,t,i,r){var n=r;switch(this.visibilityMode){case"exclusive":e?this._turnOffOtherLayers(n):this._isAnyLayerVisible()||(n.visible=!0);break;case"inherited":n.visible=this.visible}},t.prototype._isAnyLayerVisible=function(){return this.layers.some(function(e){return e.visible})},n([u.property()],t.prototype,"fullExtent",void 0),n([u.property({json:{read:!1,write:{ignoreOrigin:!0}}})],t.prototype,"layers",void 0),n([u.writer("layers")],t.prototype,"_writeLayers",null),n([u.property({type:["GroupLayer"]})],t.prototype,"operationalLayerType",void 0),n([u.property({json:{write:!1}})],t.prototype,"portalItem",void 0),n([u.property()],t.prototype,"spatialReference",void 0),n([u.property({json:{read:!1},readOnly:!0,value:"group"})],t.prototype,"type",void 0),n([u.property({type:String,value:"independent",json:{write:!0}})],t.prototype,"visibilityMode",null),n([u.subclass("esri.layers.GroupLayer")],t)}(u.declared(y,f,a,c,d))}.apply(null,r))||(e.exports=n)},1404:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(158),i(474),i(8)],void 0===(n=function(e,t,i,r,n){function o(e){return e}Object.defineProperty(t,"__esModule",{value:!0}),t.forEach=function(e,t,i){return n.eachAlways(e.map(function(e,r){return t.apply(i,[e,r])}))},t.map=function(e,t,i){return n.eachAlways(e.map(function(e,r){return t.apply(i,[e,r])})).then(function(e){return e.map(function(e){return e.value})})},t.result=function(e){return e.then(function(e){return{ok:!0,value:e}}).catch(function(e){return{ok:!1,error:e}})},t.assertResult=function(e){if(!0===e.ok)return e.value;throw e.error},t.safeCast=o,t.safeCastCall=function(e){return o(e())},t.safeCastReturn=function(e){return e}}.apply(null,r))||(e.exports=n)},1650:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(158),i(474),i(1404),i(21),i(102)],void 0===(n=function(e,t,i,r,n,o,s){function a(e,t){return r(this,void 0,void 0,function(){var a,l,u,p=this;return i(this,function(y){switch(y.label){case 0:return[4,e.load()];case 1:return y.sent(),a=[],l=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var i=0,r=e;i<r.length;i++){var n=r[i];n&&(Array.isArray(n)?l.apply(void 0,n):o.isCollection(n)?n.forEach(function(e){return l(e)}):n.isInstanceOf&&n.isInstanceOf(s)&&a.push(n))}},t(l),u=null,[4,n.map(a,function(e){return r(p,void 0,void 0,function(){return i(this,function(t){switch(t.label){case 0:return[4,n.result(function(e){return"loadAll"in e&&"function"==typeof e.loadAll}(e)?e.loadAll():e.load())];case 1:return!1!==t.sent().ok||u||(u=e),[2]}})})})];case 2:if(y.sent(),u)throw u.loadError;return[2,e]}})})}Object.defineProperty(t,"__esModule",{value:!0}),t.loadAll=a,t.default=a}.apply(null,r))||(e.exports=n)},1712:function(e,t,i){var r,n;r=[i.dj.c(e.i),t,i(2),i(1),i(5),i(21),i(495),i(7),i(8),i(0),i(119)],void 0===(n=function(e,t,i,r,n,o,s,a,l,u,p){function y(e){return e&&null!=e.layers}function c(e,t,i){for(var r,n,o=0,s=e.length;o<s;o++){if((r=e.getItemAt(o))[t]===i)return r;if(y(r)&&(n=c(r.layers,t,i)))return n}}var d=o.ofType(p),f=a.getLogger("esri.support.LayersMixin");return function(e){function t(t){var i=e.call(this,t)||this;i.layers=new d;return i.layers.on("after-add",function(e){return function(e){e.parent&&e.parent!==i&&"remove"in e.parent&&e.parent.remove(e),e.parent=i,i.layerAdded(e),"elevation"===e.type&&f.error("Layer '"+e.title+", id:"+e.id+"' of type '"+e.type+"' is not supported as an operational layer and will therefore be ignored.")}(e.item)}),i.layers.on("after-remove",function(e){return function(e){e.parent=null,i.layerRemoved(e)}(e.item)}),i}return i(t,e),t.prototype.destroy=function(){this.layers.drain(this.layerRemoved,this)},Object.defineProperty(t.prototype,"layers",{set:function(e){this._set("layers",s.referenceSetter(e,this._get("layers"),d))},enumerable:!0,configurable:!0}),t.prototype.findLayerById=function(e){return c(this.layers,"id",e)},t.prototype.add=function(e,t){var i=this,r=this.layers;t=r.getNextIndex(t),e instanceof p?(e.parent===this&&this.reorder(e,t),r.add(e,t)):l.isThenable(e)?e.then(function(e){i.destroyed||i.add(e,t)}):f.error("#add()","The item being added is not a Layer or a Promise that resolves to a Layer.")},t.prototype.addMany=function(e,t){var i=this,r=this.layers;t=r.getNextIndex(t),e.slice().forEach(function(e){e.parent!==i?(r.add(e,t),t+=1):i.reorder(e,t)})},t.prototype.findLayerByUid=function(e){return c(this.layers,"uid",e)},t.prototype.remove=function(e){return this.layers.remove(e)},t.prototype.removeMany=function(e){return this.layers.removeMany(e)},t.prototype.removeAll=function(){return this.layers.removeAll()},t.prototype.reorder=function(e,t){return this.layers.reorder(e,t)},t.prototype.layerAdded=function(e){},t.prototype.layerRemoved=function(e){},r([u.property({type:d,cast:s.castForReferenceSetter})],t.prototype,"layers",null),r([u.subclass("esri.support.LayersMixin")],t)}(u.declared(n))}.apply(null,r))||(e.exports=n)}}]);