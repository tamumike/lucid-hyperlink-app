(function(){(this||window).webpackJsonp.registerAbsMids({"esri/layers/VectorTileLayer":1311,"esri/views/vectorTiles/GeometryUtils":1402,"esri/views/vectorTiles/style/StyleLayer":1726,"esri/views/vectorTiles/style/Filter":1813,"esri/views/vectorTiles/style/StyleDefinition":1814,"esri/views/vectorTiles/style/StyleProperty":1815,"esri/views/vectorTiles/style/StyleRepository":1816,"esri/portal/support/jsonContext":1839,"esri/views/vectorTiles/SchemaHelper":1931,"esri/layers/support/vectorTileLayerLoader":2344})})(),(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{1311:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(2),r(1),r(36),r(9),r(127),r(8),r(22),r(22),r(0),r(17),r(19),r(119),r(1616),r(239),r(238),r(482),r(237),r(1524),r(2344),r(1839),r(1931),r(1816)],void 0===(n=function(e,t,i,n,a,o,l,s,u,p,y,c,f,d,v,m,h,g,b,_,D,x,S,w,P){return function(e){function t(t,r){var i=e.call(this)||this;return i.capabilities=null,i.currentStyleInfo=null,i.fullExtent=null,i.style=null,i.operationalLayerType="VectorTileLayer",i.tileInfo=null,i.tilemapCache=null,i.type="vector-tile",i.url=null,i}return n(t,e),t.prototype.normalizeCtorArgs=function(e,t){return"string"==typeof e?i({url:e},t):e},t.prototype.load=function(){var e=this,t=this.loadFromPortal({supportedTypes:["Vector Tile Service"],supportsData:!1}).then(function(){if(e.portalItem&&e.portalItem.id){var t=e.portalItem.itemUrl+"/resources/styles/root.json";return o(t,{query:{f:"json"}}).then(function(r){r.data&&e.read({url:t},S.createForItem(e.portalItem))})}}).then(function(){return e.loadStyle()},function(){return e.loadStyle()});return this.addResolvingPromise(t),this.when()},Object.defineProperty(t.prototype,"attributionDataUrl",{get:function(){var e=this.currentStyleInfo,t=e&&e.serviceUrl&&y.urlToObject(e.serviceUrl);return t?this._getDefaultAttribution(t.path):null},enumerable:!0,configurable:!0}),t.prototype.readCapabilities=function(e,t){var r=t.capabilities&&t.capabilities.split(",").map(function(e){return e.toLowerCase().trim()}),i=!!t.exportTilesAllowed;return{operations:{supportsExportTiles:i,supportsTileMap:-1!==r.indexOf("tilemap")},exportTiles:i?{maxExportTilesCount:+t.maxExportTilesCount}:null}},Object.defineProperty(t.prototype,"parsedUrl",{get:function(){return this.serviceUrl?p.urlToObject(this.serviceUrl):null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serviceUrl",{get:function(){return this.currentStyleInfo&&this.currentStyleInfo.serviceUrl||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"spatialReference",{get:function(){return this.tileInfo&&this.tileInfo.spatialReference||null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"styleUrl",{get:function(){return this.currentStyleInfo&&this.currentStyleInfo.styleUrl||null},enumerable:!0,configurable:!0}),t.prototype.writeStyleUrl=function(e,t){e&&y.isProtocolRelative(e)&&(e="https:"+e),t.styleUrl=e},t.prototype.readTileIndexType=function(e,t){return t.type},t.prototype.readTileIndexUrl=function(e,t){return y.join(this.serviceUrl,t.tileMap)},t.prototype.readTilemapCache=function(e,t){return t.capabilities&&t.capabilities.indexOf("Tilemap")>-1?new D({layer:this}):null},t.prototype.readTileServers=function(e,t){var r=t.tiles,i=this.serviceUrl||this.styleUrl&&y.removeFile(this.styleUrl);return i&&r.forEach(function(e,t,r){y.isAbsolute(e)?r[t]=e:r[t]=y.join(i,e)}),r},t.prototype.readVersion=function(e,t){return t.version?parseFloat(t.version):parseFloat(t.currentVersion)},t.prototype.readCompatibleTileInfo256=function(e,t){return _.fromJSON(w.create256x256CompatibleTileInfo(t.tileInfo))},t.prototype.readCompatibleTileInfo512=function(e,t){return _.fromJSON(w.create512x512CompatibleTileInfo(t.tileInfo))},t.prototype.loadStyle=function(e){var t=e||this.style||this.url;if(this._loadingPromise&&"string"==typeof t&&this.url===t)return this._loadingPromise;var r=this._loadingPromise;return this._loadingPromise=this._getSourceAndStyle(t),r&&!r.isFulfilled()&&r.cancel(),this._loadingPromise},t.prototype.getStyleLayerId=function(e){return this.styleRepository.getStyleLayerId(e)},t.prototype.getPaintProperties=function(e){return this.styleRepository.getPaintProperties(e)},t.prototype.setPaintProperties=function(e,t){var r=this.styleRepository.setPaintProperties(e,t);this.emit("paint-change",{layer:r,paint:t})},t.prototype.getLayoutProperties=function(e){return this.styleRepository.getLayoutProperties(e)},t.prototype.setLayoutProperties=function(e,t){var r=this.styleRepository.setLayoutProperties(e,t);this.emit("layout-change",{layer:r,layout:t})},t.prototype.getTileUrl=function(e,t,r){var i=this.tileServers[t%this.tileServers.length];return i.replace(/\{z\}/gi,e.toString()).replace(/\{y\}/gi,t.toString()).replace(/\{x\}/gi,r.toString())},t.prototype.write=function(e,t){return t&&t.origin&&!this.styleUrl?(t.messages&&t.messages.push(new l("vectortilelayer:unsupported","VectorTileLayer ("+this.title+", "+this.id+") with style defined by JSON only are not supported",{layer:this})),null):this.inherited(arguments,[e,t])},t.prototype.importLayerViewModule=function(e){switch(e.type){case"2d":return u.create(function(e){return Promise.all([r.e(0),r.e(89)]).then(function(){var t=[r(2388)];e.apply(null,t)}.bind(this)).catch(r.oe)});case"3d":return u.create(function(e){return Promise.all([r.e(0),r.e(5),r.e(6),r.e(7),r.e(82)]).then(function(){var t=[r(2391)];e.apply(null,t)}.bind(this)).catch(r.oe)})}},t.prototype._getSourceAndStyle=function(e){var t=this;return e?x.loadMetadata(e).then(function(r){t._set("currentStyleInfo",{serviceUrl:r.serviceUrl,styleUrl:r.styleUrl,spriteUrl:r.spriteUrl,glyphsUrl:r.glyphsUrl,style:r.style,layerDefinition:r.layerDefinition}),"string"==typeof e?(t.url=e,t.style=null):(t.url=null,t.style=e),t._set("styleRepository",new P(r.style,r)),t.read(r.layerDefinition,{origin:"service"})}):u.reject(new Error("invalid style!"))},t.prototype._getDefaultAttribution=function(e){var t=e.match(/^https?:\/\/(basemaps|basemapsbeta|basemapsdev)\.arcgis\.com(\/[^\/]+)?\/arcgis\/rest\/services\/([^\/]+(\/[^\/]+)*)\/vectortileserver/i);if(t){var r=t[3]&&t[3].toLowerCase();if(r)for(var i=t[2]||"",n=0,a=["OpenStreetMap_v2","OpenStreetMap_Export_v2","OpenStreetMap_GCS_v2","World_Basemap","World_Basemap_v2","World_Basemap_Export_v2","World_Basemap_GCS_v2","World_Basemap_WGS84"];n<a.length;n++){var o=a[n];if(o.toLowerCase().indexOf(r)>-1)return y.normalize("//static.arcgis.com/attribution/Vector"+i+"/"+o)}}},a([c.property({readOnly:!0,dependsOn:["currentStyleInfo"]})],t.prototype,"attributionDataUrl",null),a([c.property({readOnly:!0})],t.prototype,"capabilities",void 0),a([c.reader("capabilities",["capabilities","exportTilesAllowed","maxExportTilesCount"])],t.prototype,"readCapabilities",null),a([c.property({readOnly:!0})],t.prototype,"currentStyleInfo",void 0),a([c.property({type:f,readOnly:!0})],t.prototype,"fullExtent",void 0),a([c.property()],t.prototype,"style",void 0),a([c.property({type:["VectorTileLayer"]})],t.prototype,"operationalLayerType",void 0),a([c.property({readOnly:!0,dependsOn:["serviceUrl"]})],t.prototype,"parsedUrl",null),a([c.property({readOnly:!0,dependsOn:["currentStyleInfo"]})],t.prototype,"serviceUrl",null),a([c.property({type:d,dependsOn:["tileInfo"],readOnly:!0})],t.prototype,"spatialReference",null),a([c.property({readOnly:!0})],t.prototype,"styleRepository",void 0),a([c.property({type:String,readOnly:!0,dependsOn:["currentStyleInfo"],json:{write:{ignoreOrigin:!0},origins:{"web-document":{write:{ignoreOrigin:!0,isRequired:!0}}}}})],t.prototype,"styleUrl",null),a([c.writer(["portal-item","web-document"],"styleUrl")],t.prototype,"writeStyleUrl",null),a([c.property({readOnly:!0})],t.prototype,"tileIndexType",void 0),a([c.reader("tileIndexType",["tileIndexType","type"])],t.prototype,"readTileIndexType",null),a([c.property({readOnly:!0})],t.prototype,"tileIndexUrl",void 0),a([c.reader("tileIndexUrl",["tileIndexUrl","tileMap"])],t.prototype,"readTileIndexUrl",null),a([c.property({readOnly:!0,type:_})],t.prototype,"tileInfo",void 0),a([c.property({readOnly:!0,type:D})],t.prototype,"tilemapCache",void 0),a([c.reader("tilemapCache",["capabilities"])],t.prototype,"readTilemapCache",null),a([c.property({readOnly:!0})],t.prototype,"tileServers",void 0),a([c.reader("tileServers",["tiles"])],t.prototype,"readTileServers",null),a([c.property({json:{read:!1},readOnly:!0,value:"vector-tile"})],t.prototype,"type",void 0),a([c.property({json:{origins:{"web-document":{read:{source:"styleUrl"}},"portal-item":{read:{source:"url"}}},write:!1,read:!1}})],t.prototype,"url",void 0),a([c.property({readOnly:!0})],t.prototype,"version",void 0),a([c.reader("version",["version","currentVersion"])],t.prototype,"readVersion",null),a([c.property({readOnly:!0})],t.prototype,"compatibleTileInfo256",void 0),a([c.reader("compatibleTileInfo256",["tileInfo"])],t.prototype,"readCompatibleTileInfo256",null),a([c.property({readOnly:!0})],t.prototype,"compatibleTileInfo512",void 0),a([c.reader("compatibleTileInfo512",["tileInfo"])],t.prototype,"readCompatibleTileInfo512",null),a([c.subclass("esri.layers.VectorTileLayer")],t)}(c.declared(v,h,g,b,s,m))}.apply(null,i))||(e.exports=n)},1402:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){function r(e,t){return(e%=t)>=0?e:e+t}Object.defineProperty(t,"__esModule",{value:!0}),t.C_INFINITY=Number.POSITIVE_INFINITY,t.C_PI=Math.PI,t.C_2PI=2*t.C_PI,t.C_PI_BY_2=t.C_PI/2,t.C_RAD_TO_256=128/t.C_PI,t.C_256_TO_RAD=t.C_PI/128,t.C_DEG_TO_256=256/360,t.C_DEG_TO_RAD=t.C_PI/180,t.C_SQRT2=1.414213562,t.C_SQRT2_INV=1/t.C_SQRT2;var i=1/Math.LN2;t.positiveMod=r,t.radToByte=function(e){return r(e*t.C_RAD_TO_256,256)},t.degToByte=function(e){return r(e*t.C_DEG_TO_256,256)},t.log2=function(e){return Math.log(e)*i},t.sqr=function(e){return e*e},t.clamp=function(e,t,r){return Math.min(Math.max(e,t),r)},t.interpolate=function(e,t,r){return e*(1-r)+t*r},t.between=function(e,t,r){return e>=t&&e<=r||e>=r&&e<=t}}.apply(null,i))||(e.exports=n)},1726:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(25),r(1),r(1813),r(1814),r(1815)],void 0===(n=function(e,t,r,i,n,a,o){Object.defineProperty(t,"__esModule",{value:!0});var l=function(){function e(e,t,r){switch(this.type=e,this.typeName=t.type,this.id=t.id,this.source=t.source,this.sourceLayer=t["source-layer"],this.minzoom=t.minzoom,this.maxzoom=t.maxzoom,this.filter=t.filter,this.layout=t.layout,this.paint=t.paint,this.z=r,e){case 0:this._layoutDefinition=a.StyleDefinition.backgroundLayoutDefinition,this._paintDefinition=a.StyleDefinition.backgroundPaintDefinition;break;case 1:this._layoutDefinition=a.StyleDefinition.fillLayoutDefinition,this._paintDefinition=a.StyleDefinition.fillPaintDefinition;break;case 2:this._layoutDefinition=a.StyleDefinition.lineLayoutDefinition,this._paintDefinition=a.StyleDefinition.linePaintDefinition;break;case 3:this._layoutDefinition=a.StyleDefinition.symbolLayoutDefinition,this._paintDefinition=a.StyleDefinition.symbolPaintDefinition;break;case 4:this._layoutDefinition=a.StyleDefinition.circleLayoutDefinition,this._paintDefinition=a.StyleDefinition.circlePaintDefinition}this._layoutProperties=this._parseLayout(this.layout),this._paintProperties=this._parsePaint(this.paint)}return e.prototype.getFeatureFilter=function(){return void 0!==this._featureFilter?this._featureFilter:this._featureFilter=n.createFilter(this.filter)},e.prototype.getLayoutProperty=function(e){var t=this._layoutProperties;if(t)return t[e]},e.prototype.getPaintProperty=function(e){var t=this._paintProperties;if(t)return t[e]},e.prototype.getLayoutValue=function(e,t,r){var i,n=this._layoutProperties;if(n){var a=n[e];a&&(i=a.getValue(t,r))}var o=this._layoutDefinition[e];return void 0===i&&(i=o.default),"enum"===o.type&&(i=o.values.indexOf(i)),i},e.prototype.getPaintValue=function(e,t,r){var i,n=this._paintProperties;if(n){var a=n[e];a&&(i=a.getValue(t,r))}var o=this._paintDefinition[e];return void 0===i&&(i=o.default),"enum"===o.type&&(i=o.values.indexOf(i)),i},e.prototype._parseLayout=function(e){var t={};for(var r in e){var i=this._layoutDefinition[r];i&&(t[r]=new o(r,i,e[r]))}return t},e.prototype._parsePaint=function(e){var t={};for(var r in e){var i=this._paintDefinition[r];i&&(t[r]=new o(r,i,e[r]))}return t},e}();t.StyleLayer=l;var s=function(e){function t(t,r,i){return e.call(this,t,r,i)||this}return r(t,e),t}(l);t.BackgroundStyleLayer=s;var u=function(e){function t(t,r,i){var n=e.call(this,t,r,i)||this,a=n.getPaintProperty("fill-color");n.hasDataDrivenColor=!!a&&a.isDataDriven;var o=n.getPaintProperty("fill-opacity");n.hasDataDrivenOpacity=!!o&&o.isDataDriven,n.hasDataDrivenFill=n.hasDataDrivenColor||n.hasDataDrivenOpacity;var l=n.getPaintProperty("fill-outline-color");return n.outlineUsesFillColor=!l,n.hasDataDrivenOutlineColor=!!l&&l.isDataDriven,n.hasDataDrivenOutline=(l?n.hasDataDrivenOutlineColor:n.hasDataDrivenColor)||n.hasDataDrivenOpacity,n}return r(t,e),t}(l);t.FillStyleLayer=u;var p=function(e){function t(t,r,i){var n=e.call(this,t,r,i)||this,a=n.getPaintProperty("line-color");n.hasDataDrivenColor=!!a&&a.isDataDriven;var o=n.getPaintProperty("line-opacity");n.hasDataDrivenOpacity=!!o&&o.isDataDriven;var l=n.getPaintProperty("line-width");return n.hasDataDrivenWidth=!!l&&l.isDataDriven,n.hasDataDrivenLine=n.hasDataDrivenColor||n.hasDataDrivenOpacity||n.hasDataDrivenWidth,n}return r(t,e),t}(l);t.LineStyleLayer=p;var y=function(e){function t(t,r,i){var n=e.call(this,t,r,i)||this,a=n.getPaintProperty("icon-color");n.hasDataDrivenIconColor=!!a&&a.isDataDriven;var o=n.getPaintProperty("icon-opacity");n.hasDataDrivenIconOpacity=!!o&&o.isDataDriven;var l=n.getLayoutProperty("icon-size");n.hasDataDrivenIconSize=!!l&&l.isDataDriven,n.hasDataDrivenIcon=n.hasDataDrivenIconColor||n.hasDataDrivenIconOpacity||n.hasDataDrivenIconSize;var s=n.getPaintProperty("text-color");n.hasDataDrivenTextColor=!!s&&s.isDataDriven;var u=n.getPaintProperty("text-opacity");n.hasDataDrivenTextOpacity=!!u&&u.isDataDriven;var p=n.getLayoutProperty("text-size");return n.hasDataDrivenTextSize=!!p&&p.isDataDriven,n.hasDataDrivenText=n.hasDataDrivenTextColor||n.hasDataDrivenTextOpacity||n.hasDataDrivenTextSize,n}return r(t,e),t}(l);t.SymbolStyleLayer=y;var c=function(e){function t(t,r,i){var n=e.call(this,t,r,i)||this,a=n.getPaintProperty("circle-radius");n.hasDataDrivenRadius=!!a&&a.isDataDriven;var o=n.getPaintProperty("circle-color");n.hasDataDrivenColor=!!o&&o.isDataDriven;var l=n.getPaintProperty("circle-opacity");n.hasDataDrivenOpacity=!!l&&l.isDataDriven;var s=n.getPaintProperty("circle-stroke-width");n.hasDataDrivenStrokeWidth=!!s&&s.isDataDriven;var u=n.getPaintProperty("circle-stroke-color");n.hasDataDrivenStrokeColor=!!u&&u.isDataDriven;var p=n.getPaintProperty("circle-stroke-opacity");n.hasDataDrivenStrokeOpacity=!!p&&p.isDataDriven;var y=n.getPaintProperty("circle-blur");return n.hasDataDrivenBlur=!!y&&y.isDataDriven,n}return r(t,e),t}(l);t.CircleStyleLayer=c;var f=function(){return function(e,t,r){this.cap=e.getLayoutValue("line-cap",t,r),this.join=e.getLayoutValue("line-join",t,r),this.miterLimit=e.getLayoutValue("line-miter-limit",t,r),this.roundLimit=e.getLayoutValue("line-round-limit",t,r)}}();t.LineLayout=f;var d=function(){return function(e,t,r,i){this.allowOverlap=e.getLayoutValue("icon-allow-overlap",t,i),this.ignorePlacement=e.getLayoutValue("icon-ignore-placement",t,i),this.optional=e.getLayoutValue("icon-optional",t,i),this.rotationAlignment=e.getLayoutValue("icon-rotation-alignment",t,i),this.size=e.getLayoutValue("icon-size",t,i),this.rotate=e.getLayoutValue("icon-rotate",t,i),this.padding=e.getLayoutValue("icon-padding",t,i),this.keepUpright=e.getLayoutValue("icon-keep-upright",t,i),this.offset=e.getLayoutValue("icon-offset",t,i),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)}}();t.IconLayout=d;var v=function(){return function(e,t,r,i){this.allowOverlap=e.getLayoutValue("text-allow-overlap",t,i),this.ignorePlacement=e.getLayoutValue("text-ignore-placement",t,i),this.optional=e.getLayoutValue("text-optional",t,i),this.rotationAlignment=e.getLayoutValue("text-rotation-alignment",t,i),this.fontArray=e.getLayoutValue("text-font",t,i),this.maxWidth=e.getLayoutValue("text-max-width",t,i),this.lineHeight=e.getLayoutValue("text-line-height",t,i),this.letterSpacing=e.getLayoutValue("text-letter-spacing",t,i),this.justify=e.getLayoutValue("text-justify",t,i),this.anchor=e.getLayoutValue("text-anchor",t,i),this.maxAngle=e.getLayoutValue("text-max-angle",t,i),this.size=e.getLayoutValue("text-size",t,i),this.rotate=e.getLayoutValue("text-rotate",t,i),this.padding=e.getLayoutValue("text-padding",t,i),this.keepUpright=e.getLayoutValue("text-keep-upright",t,i),this.transform=e.getLayoutValue("text-transform",t,i),this.offset=e.getLayoutValue("text-offset",t,i),2===this.rotationAlignment&&(this.rotationAlignment=r?0:1)}}();t.TextLayout=v}.apply(null,i))||(e.exports=n)},1813:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(t,r,i){this._op=t,"$type"===r?(i instanceof Array?this._val=i.map(function(t){return e._types.indexOf(t)}):this._val=e._types.indexOf(i),this._op+=11):(this._key=r,this._val=i)}return e.prototype.filter=function(e){switch(this._op){case 0:return this._val;case 1:return e.values[this._key]===this._val;case 2:return e.values[this._key]!==this._val;case 3:return e.values[this._key]<this._val;case 4:return e.values[this._key]>this._val;case 5:return e.values[this._key]<=this._val;case 6:return e.values[this._key]>=this._val;case 7:return-1!==this._val.indexOf(e.values[this._key]);case 8:return-1===this._val.indexOf(e.values[this._key]);case 9:for(var t=0,r=this._val;t<r.length;t++){if(r[t].filter(e))return!0}return!1;case 10:for(var i=0,n=this._val;i<n.length;i++){if(!n[i].filter(e))return!1}return!0;case 11:for(var a=0,o=this._val;a<o.length;a++){if(o[a].filter(e))return!1}return!0;case 12:return e.type===this._val;case 13:return e.type!==this._val;case 14:return e.type<this._val;case 15:return e.type>this._val;case 16:return e.type>=this._val;case 17:return e.type<=this._val;case 18:return-1!==this._val.indexOf(e.type);case 19:return-1===this._val.indexOf(e.type);case 20:return void 0!==e.values[this._key];case 21:return void 0===e.values[this._key]}},e.createFilter=function(t){if(!t)return new e(0,void 0,!0);var r=t[0];if(t.length<=1)return new e(0,void 0,"any"!==r);switch(r){case"==":return new e(1,t[1],t[2]);case"!=":return new e(2,t[1],t[2]);case">":return new e(4,t[1],t[2]);case"<":return new e(3,t[1],t[2]);case">=":return new e(6,t[1],t[2]);case"<=":return new e(5,t[1],t[2]);case"in":return new e(7,t[1],t.slice(2));case"!in":return new e(8,t[1],t.slice(2));case"any":return new e(9,void 0,t.slice(1).map(e.createFilter.bind(this)));case"all":return new e(10,void 0,t.slice(1).map(e.createFilter.bind(this)));case"none":return new e(11,void 0,t.slice(1).map(e.createFilter.bind(this)));case"has":return new e(20,t[1],void 0);case"!has":return new e(21,t[1],void 0);default:throw new Error("invalid operator: "+r)}},e._types=["Unknown","Point","LineString","Polygon"],e}()}.apply(null,i))||(e.exports=n)},1814:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(){}return e.backgroundLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.fillLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.lineLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"line-cap":{type:"enum",values:["butt","round","square"],default:"butt"},"line-join":{type:"enum",values:["bevel","round","miter"],default:"miter"},"line-miter-limit":{type:"number",default:2},"line-round-limit":{type:"number",default:1.05}},e.symbolLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"},"symbol-placement":{type:"enum",values:["point","line"],default:"point"},"symbol-spacing":{type:"number",minimum:1,default:250},"symbol-avoid-edges":{type:"boolean",default:!1},"icon-image":{type:"string"},"icon-allow-overlap":{type:"boolean",default:!1},"icon-ignore-placement":{type:"boolean",default:!1},"icon-optional":{type:"boolean",default:!1},"icon-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"icon-size":{type:"number",minimum:0,default:1},"icon-rotate":{type:"number",default:0},"icon-padding":{type:"number",minimum:0,default:2},"icon-keep-upright":{type:"boolean",default:!1},"icon-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-field":{type:"string"},"text-rotation-alignment":{type:"enum",values:["map","viewport","auto"],default:"auto"},"text-font":{type:"array",value:"string",default:["Open Sans Regular","Arial Unicode MS Regular"]},"text-size":{type:"number",minimum:0,default:16},"text-max-width":{type:"number",minimum:0,default:10},"text-line-height":{type:"number",default:1.2},"text-letter-spacing":{type:"number",default:0},"text-justify":{type:"enum",values:["left","center","right"],default:"center"},"text-anchor":{type:"enum",values:["center","left","right","top","bottom","top-left","top-right","bottom-left","bottom-right"],default:"center"},"text-max-angle":{type:"number",minimum:0,default:45},"text-rotate":{type:"number",default:0},"text-padding":{type:"number",minimum:0,default:2},"text-keep-upright":{type:"boolean",default:!0},"text-transform":{type:"enum",values:["none","uppercase","lowercase"],default:"none"},"text-offset":{type:"array",value:"number",length:2,default:[0,0]},"text-allow-overlap":{type:"boolean",default:!1},"text-ignore-placement":{type:"boolean",default:!1},"text-optional":{type:"boolean",default:!1}},e.circleLayoutDefinition={visibility:{type:"enum",values:["visible","none"],default:"visible"}},e.backgroundPaintDefinition={"background-opacity":{type:"number",minimum:0,maximum:1,default:1},"background-color":{type:"color",default:[0,0,0,1]},"background-pattern":{type:"string"}},e.fillPaintDefinition={"fill-opacity":{type:"number",minimum:0,maximum:1,default:1},"fill-antialias":{type:"boolean",default:!0},"fill-color":{type:"color",default:[0,0,0,1]},"fill-outline-color":{type:"color",default:[0,0,0,0]},"fill-translate":{type:"array",value:"number",length:2,default:[0,0]},"fill-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"fill-pattern":{type:"string"}},e.linePaintDefinition={"line-opacity":{type:"number",minimum:0,maximum:1,default:1},"line-color":{type:"color",default:[0,0,0,1]},"line-translate":{type:"array",value:"number",length:2,default:[0,0]},"line-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"line-width":{type:"number",minimum:0,default:1},"line-gap-width":{type:"number",minimum:0,default:0},"line-offset":{type:"number",default:0},"line-blur":{type:"number",minimum:0,default:0},"line-dasharray":{type:"array",value:"number",default:[]},"line-pattern":{type:"string"}},e.symbolPaintDefinition={"icon-opacity":{type:"number",minimum:0,maximum:1,default:1},"icon-color":{type:"color",default:[0,0,0,1]},"icon-halo-color":{type:"color",default:[0,0,0,0]},"icon-halo-width":{type:"number",minimum:0,default:0},"icon-halo-blur":{type:"number",minimum:0,default:0},"icon-translate":{type:"array",value:"number",length:2,default:[0,0]},"icon-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"text-opacity":{type:"number",minimum:0,maximum:1,default:1},"text-color":{type:"color",default:[0,0,0,1]},"text-halo-color":{type:"color",default:[0,0,0,0]},"text-halo-width":{type:"number",minimum:0,default:0},"text-halo-blur":{type:"number",minimum:0,default:0},"text-translate":{type:"array",value:"number",length:2,default:[0,0]},"text-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"}},e.rasterPaintDefinition={"raster-opacity":{type:"number",minimum:0,maximum:1,default:1},"raster-hue-rotate":{type:"number",default:0},"raster-brightness-min":{type:"number",minimum:0,maximum:1,default:0},"raster-brightness-max":{type:"number",minimum:0,maximum:1,default:1},"raster-saturation":{type:"number",minimum:-1,maximum:1,default:0},"raster-contrast":{type:"number",minimum:-1,maximum:1,default:0},"raster-fade-duration":{type:"number",minimum:0,default:300}},e.circlePaintDefinition={"circle-opacity":{type:"number",minimum:0,maximum:1,default:1},"circle-radius":{type:"number",minimum:0,default:5},"circle-color":{type:"color",default:[0,0,0,1]},"circle-blur":{type:"number",minimum:0,default:0},"circle-translate":{type:"array",value:"number",length:2,default:[0,0]},"circle-translate-anchor":{type:"enum",values:["map","viewport"],default:"map"},"circle-stroke-width":{type:"number",minimum:0,default:0},"circle-stroke-color":{type:"color",default:[0,0,0,1]},"circle-stroke-opacity":{type:"number",minimum:0,maximum:1,default:1}},e}();t.StyleDefinition=r}.apply(null,i))||(e.exports=n)},1815:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(23),r(1402)],void 0===(n=function(e,t,r,i){return function(){function e(t,r,i){var n;switch(this.isDataDriven=!1,r.type){case"number":n=!0;break;case"color":n=!0,i=e._parseColor(i);break;case"array":n="number"===r.value;break;default:n=!1}null==i&&(i=r.default),n&&"interval"===i.type&&(n=!1);var a=i&&i.stops&&i.stops.length>0;if(a)for(var o=0,l=i.stops;o<l.length;o++){var s=l[o];s[1]=this._validate(s[1],r)}if(this.isDataDriven=!!i&&!!i.property,this.isDataDriven)if(void 0!==i.default&&(i.default=this._validate(i.default,r)),a)switch(i.type){case"identity":this.getValue=this._buildIdentity(i,r);break;case"categorical":this.getValue=this._buildCategorical(i,r);break;default:this.getValue=n?this._buildInterpolate(i,r):this._buildInterval(i,r)}else this.getValue=this._buildIdentity(i,r);else a?this.getValue=n?this._buildZoomInterpolate(i):this._buildZoomInterval(i):(i=this._validate(i,r),this.getValue=this._buildSimple(i))}return e.prototype._validate=function(e,t){if("number"===t.type){if(e<t.minimum)return t.minimum;if(e>t.maximum)return t.maximum}return e},e.prototype._buildSimple=function(e){return function(){return e}},e.prototype._buildIdentity=function(t,r){var i=this;return function(n,a){var o;return a&&(o=a.values[t.property],"color"===r.type&&(o=e._parseColor(o))),void 0===o&&(o=t.default),void 0!==o?i._validate(o,r):r.default}},e.prototype._buildCategorical=function(e,t){var r=this;return function(i,n){var a;return n&&(a=n.values[e.property]),void 0!==(a=r._categorical(a,e.stops))?a:void 0!==e.default?e.default:t.default}},e.prototype._buildInterval=function(e,t){var r=this;return function(i,n){var a;return n&&(a=n.values[e.property]),"number"==typeof a?r._interval(a,e.stops):void 0!==e.default?e.default:t.default}},e.prototype._buildInterpolate=function(e,t){var r=this;return function(i,n){var a;return n&&(a=n.values[e.property]),"number"==typeof a?r._interpolate(a,e.stops,e.base||1):void 0!==e.default?e.default:t.default}},e.prototype._buildZoomInterpolate=function(e){var t=this;return function(r){return t._interpolate(r,e.stops,e.base||1)}},e.prototype._buildZoomInterval=function(e){var t=this;return function(r){return t._interval(r,e.stops)}},e.prototype._categorical=function(e,t){for(var r=t.length,i=0;i<r;i++)if(t[i][0]===e)return t[i][1]},e.prototype._interval=function(e,t){for(var r=t.length,i=0,n=0;n<r&&t[n][0]<=e;n++)i=n;return t[i][1]},e.prototype._interpolate=function(e,t,r){for(var n,a,o=t.length,l=0;l<o;l++){var s=t[l];if(!(s[0]<=e)){a=s;break}n=s}if(n&&a){var u=a[0]-n[0],p=e-n[0],y=1===r?p/u:(Math.pow(r,p)-1)/(Math.pow(r,u)-1);if(Array.isArray(n[1])){var c=n[1],f=a[1],d=[];for(l=0;l<c.length;l++)d.push(i.interpolate(c[l],f[l],y));return d}return i.interpolate(n[1],a[1],y)}return n?n[1]:a?a[1]:void 0},e._isEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e._parseColor=function(t){if(Array.isArray(t))return t;if("string"!=typeof t)return t&&t.default&&(t.default=e._parseColor(t.default)),t&&t.stops&&(t.stops=t.stops.map(function(t){return[t[0],e._parseColor(t[1])]})),t;var i=new r(t);return this._isEmpty(i)?void 0:r.toUnitRGBA(i)},e}()}.apply(null,i))||(e.exports=n)},1816:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(16),r(1726)],void 0===(n=function(e,t,r,i){return function(){function e(t,i){if(this._layerByName={},this.styleJSON=t,this.version=parseFloat(t.version),this.sprite=i?i.spriteUrl:t.sprite,this.glyphs=i?i.glyphsUrl:t.glyphs,r("stable-symbol-rendering")){var n=(t.layers||[]).filter(function(e){return e.layout&&e.layout["text-font"]})[0];n&&(t.layers||[]).forEach(function(e){e.layout&&e.layout["text-font"]&&(e.layout["text-font"]=n.layout["text-font"])})}if(this.layers=(t.layers||[]).map(e._create),this.layers)for(var a=void 0,o=0;o<this.layers.length;o++)a=this.layers[o],this._layerByName[a.id.toLowerCase()]=a;this._identifyRefLayers()}return e.prototype.getStyleLayerId=function(e){return e>=this.layers.length?null:this.layers[e].id},e.prototype.getLayoutProperties=function(e){var t=this._layerByName[e.toLowerCase()];return t?t.layout:null},e.prototype.getPaintProperties=function(e){var t=this._layerByName[e.toLowerCase()];return t?t.paint:null},e.prototype.setPaintProperties=function(t,r){var i=this._layerByName[t.toLowerCase()];if(!i)return"";var n=this.layers.indexOf(i);this.styleJSON.layers[n].paint=r;var a={id:i.id,type:i.typeName,source:i.source,sourceLayer:i["source-layer"],minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:i.layout,paint:r},o=e._recreateLayer(a,i);return this.layers[n]=o,this._layerByName[i.id.toLowerCase()]=o,i.id},e.prototype.setLayoutProperties=function(t,r){var i=this._layerByName[t.toLowerCase()];if(!i)return"";var n=this.layers.indexOf(i);this.styleJSON.layers[n].layout=r;var a={id:i.id,type:i.typeName,source:i.source,sourceLayer:i["source-layer"],minzoom:i.minzoom,maxzoom:i.maxzoom,filter:i.filter,layout:r,paint:i.paint},o=e._recreateLayer(a,i);return this.layers[n]=o,this._layerByName[i.id.toLowerCase()]=o,i.id},e.prototype._identifyRefLayers=function(){for(var e=[],t=[],r=0,i=0,n=this.layers;i<n.length;i++){var a=n[i];if(1===a.type){var o=a,l=a.sourceLayer;l+="|"+JSON.stringify(a.minzoom),l+="|"+JSON.stringify(a.maxzoom),l+="|"+JSON.stringify(a.filter),(o.hasDataDrivenFill||o.hasDataDrivenOutline)&&(l+="|"+JSON.stringify(r)),e.push({key:l,layer:a})}if(2===a.type){var s=a;l=a.sourceLayer;l+="|"+JSON.stringify(a.minzoom),l+="|"+JSON.stringify(a.maxzoom),l+="|"+JSON.stringify(a.filter),l+="|"+JSON.stringify(a.layout&&a.layout["line-cap"]),l+="|"+JSON.stringify(a.layout&&a.layout["line-join"]),s.hasDataDrivenLine&&(l+="|"+JSON.stringify(r)),t.push({key:l,layer:a})}++r}this._assignRefLayers(e),this._assignRefLayers(t)},e.prototype._assignRefLayers=function(e){e.sort(function(e,t){return e.key<t.key?-1:e.key>t.key?1:0});for(var t,r,i=e.length,n=0;n<i;n++){var a=e[n];if(a.key===t)a.layer.refLayerId=r;else if(t=a.key,r=a.layer.id,1===a.layer.type&&!a.layer.getPaintProperty("fill-outline-color"))for(var o=n+1;o<i;o++){var l=e[o];if(l.key!==t)break;if(l.layer.getPaintProperty("fill-outline-color")){e[n]=l,e[o]=a,r=l.layer.id;break}}}},e._create=function(e,t,r){var n=1-(1+t)*(1/(r.length+1));switch(e.type){case"background":return new i.BackgroundStyleLayer(0,e,n);case"fill":return new i.FillStyleLayer(1,e,n);case"line":return new i.LineStyleLayer(2,e,n);case"symbol":return new i.SymbolStyleLayer(3,e,n);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new i.CircleStyleLayer(4,e,n)}throw new Error("Unknown vector tile layer")},e._recreateLayer=function(e,t){switch(e.type){case"background":return new i.BackgroundStyleLayer(0,e,t.z);case"fill":return new i.FillStyleLayer(1,e,t.z);case"line":return new i.LineStyleLayer(2,e,t.z);case"symbol":return new i.SymbolStyleLayer(3,e,t.z);case"raster":throw new Error("Unsupported vector tile raster layer");case"circle":return new i.CircleStyleLayer(4,e,t.z)}},e}()}.apply(null,i))||(e.exports=n)},1839:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(22),r(48)],void 0===(n=function(e,t,r,i){Object.defineProperty(t,"__esModule",{value:!0}),t.createForItem=function(e){return{origin:"portal-item",url:r.urlToObject(e.itemUrl),portal:e.portal||i.getDefault()}}}.apply(null,i))||(e.exports=n)},1931:function(e,t,r){var i,n;i=[r.dj.c(e.i),t],void 0===(n=function(e,t){return function(){function e(e,t){this.lockedSchemaPixelSize=e,this.isWGS84=t}return e.prototype.getLevelRowColumn=function(e){return this.isWGS84?[e[0],e[1]>>1,e[2]>>1]:256===this.lockedSchemaPixelSize&&e[0]>0?[e[0]-1,e[1]>>1,e[2]>>1]:e},e.prototype.adjustLevel=function(e){return this.isWGS84?e:256===this.lockedSchemaPixelSize?e>0?e-1:0:e},e.prototype.getShift=function(e,t){var r=0,i=0;return(256===this.lockedSchemaPixelSize||this.isWGS84)&&(e[2]%2&&(r=2*t),e[1]%2&&(i=2*t)),[r,i]},e.prototype.getScale=function(e){if(this.isWGS84){if(512===this.lockedSchemaPixelSize)return 2}else if(256===this.lockedSchemaPixelSize&&0===e)return.5;return 1},e.create256x256CompatibleTileInfo=function(e){if(!e)return null;if(256===e.rows&&256===e.cols)return e;for(var t=4326===e.spatialReference.wkid,r=[],i=e.lods.length,n=0;n<i;n++){var a=e.lods[n],o=t?a.resolution:2*a.resolution;r.push({level:a.level,scale:a.scale,resolution:o})}return{rows:256,cols:256,dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:r}},e.create512x512CompatibleTileInfo=function(e){if(!e)return null;if(256===e.rows||256===e.cols)return null;for(var t=[],r=e.lods.length,i=0;i<r;i++){var n=e.lods[i],a=.5*n.resolution;t.push({level:n.level,scale:n.scale,resolution:a})}return{rows:512,cols:512,dpi:e.dpi,format:e.format,compressionQuality:e.compressionQuality,origin:e.origin,spatialReference:e.spatialReference,lods:t}},e}()}.apply(null,i))||(e.exports=n)},2344:function(e,t,r){var i,n;i=[r.dj.c(e.i),t,r(10),r(53),r(36),r(8),r(22)],void 0===(n=function(e,t,r,i,n,a,o){function l(e){if(e){var t=o.getOrigin(e);f&&-1===f.indexOf(t)&&f.push(t)}}function s(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];for(var r=void 0,i=0;i<e.length;++i)if(o.isProtocolRelative(e[i])){if(r)r=r.split("://")[0]+":"+e[i].trim()}else r=o.isAbsolute(e[i])?e[i]:o.join(r,e[i]);return r}function u(e,t,r){var i,s,u;if("string"==typeof t){var f=o.normalize(t);l(f);var d=o.urlToObject(f);i=n(d.path,{query:{f:"json"},responseType:"json"}),s=f,u=f}else i=a.resolve({data:t}),s=t.jsonUrl||null,u=r;return i.then(function(t){var r=t.data;return t.ssl&&(s&&(s=s.replace(/^http:/i,"https:")),u&&(u=u.replace(/^http:/i,"https:"))),p(r)?(e.styleUrl=s||null,y(e,r,u)):function(e){return!p(e)}(r)?(e.sourceUrl=s||null,c(e,r,u)):a.reject("You must specify the URL or the JSON for a service or for a style.")})}function p(e){return!!e.sources}function y(e,t,r){var i=r?o.removeFile(r):o.appBaseUrl;if(e.styleBase=i,e.style=t,e.styleUrl&&l(e.styleUrl),!e.source){var n=function(e){if(e.esri)return e.esri;for(var t=0,r=Object.keys(e);t<r.length;t++){var i=r[t];if("vector"===e[i].type)return e[i]}return null}(t.sources);return n.url?u(e,s(i,n.url)):u(e,n,i)}return a.resolve()}function c(e,t,r){var i=r?o.removeTrailingSlash(r)+"/":o.appBaseUrl;return e.sourceBase=i,e.source=t,e.validatedSource=function(e,t){if(e.hasOwnProperty("tileInfo"))return e;for(var r={xmin:-20037507.067161843,ymin:-20037507.067161843,xmax:20037507.067161843,ymax:20037507.067161843,spatialReference:{wkid:102100}},i=(r.xmax-r.xmin)/512,n=[],a=e.hasOwnProperty("minzoom")?parseFloat(e.minzoom):0,o=e.hasOwnProperty("maxzoom")?parseFloat(e.maxzoom):16,u=a;u<o;u++){var p=i/Math.pow(2,u),y=Math.floor(96*p*39.37007874015748);n.push({level:u,scale:y,resolution:p})}for(var c=0,f=e.tiles;c<f.length;c++)l(s(t,f[c]));return{capabilities:"TilesOnly",initialExtent:r,fullExtent:r,minScale:n[0].scale,maxScale:n[n.length-1].scale,tiles:e.tiles,tileInfo:{rows:512,cols:512,dpi:96,format:"pbf",origin:{x:-20037508.342787,y:20037508.342787},lods:n,spatialReference:{wkid:102100}}}}(t,i),e.sourceUrl&&l(e.sourceUrl),e.style?a.resolve():null==t.defaultStyles?a.reject():"string"==typeof t.defaultStyles?u(e,s(i,t.defaultStyles,"root.json")):u(e,t.defaultStyles,s(i,"root.json"))}Object.defineProperty(t,"__esModule",{value:!0});var f=i.defaults&&i.defaults.io.corsEnabledServers;t.loadMetadata=function(e){var t={source:null,sourceBase:null,sourceUrl:null,validatedSource:null,style:null,styleBase:null,styleUrl:null},r="string"==typeof e?[e,null]:[null,e.jsonUrl],i=r[0],n=r[1],a=i?o.urlToObject(i):null;return u(t,e,n).then(function(){var e={layerDefinition:t.validatedSource,url:i,parsedUrl:a,serviceUrl:t.sourceUrl,style:t.style,styleUrl:t.styleUrl,spriteUrl:t.style.sprite&&s(t.styleBase,t.style.sprite),glyphsUrl:t.style.glyphs&&s(t.styleBase,t.style.glyphs)};return l(e.spriteUrl),l(e.glyphsUrl),e})}}.apply(null,i))||(e.exports=n)}}]);